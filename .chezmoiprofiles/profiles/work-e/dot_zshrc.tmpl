### work-EC2環境のZsh設定ファイルの読み込み

# zsh設定ファイルが置かれているディレクトリのパス
ZDOTDIR=${ZDOTDIR:-$HOME}
ZSH_CONFIG_DIR="$ZDOTDIR/.chezmoiprofiles/{{ .profile }}/.zsh"

# 各設定ファイルを読み込む
# .zshenvはzshによって自動的に読み込まれるため、ここでのsourceは不要

# ファイルが存在する場合のみsourceする
[[ -f "$ZSH_CONFIG_DIR/options.zsh" ]] && source "$ZSH_CONFIG_DIR/options.zsh"
[[ -f "$ZSH_CONFIG_DIR/init.zsh" ]] && source "$ZSH_CONFIG_DIR/init.zsh"
[[ -f "$ZSH_CONFIG_DIR/plugins.zsh" ]] && source "$ZSH_CONFIG_DIR/plugins.zsh"
[[ -f "$ZSH_CONFIG_DIR/completions.zsh" ]] && source "$ZSH_CONFIG_DIR/completions.zsh"
[[ -f "$ZSH_CONFIG_DIR/functions.zsh" ]] && source "$ZSH_CONFIG_DIR/functions.zsh"
[[ -f "$ZSH_CONFIG_DIR/aliases.zsh" ]] && source "$ZSH_CONFIG_DIR/aliases.zsh"

### POWERLEVEL10K (必ず最後に読み込む)
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi
[[ ! -f "$ZDOTDIR/.p10k.zsh" ]] || source "$ZDOTDIR/.p10k.zsh"
